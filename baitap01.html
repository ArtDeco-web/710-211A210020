<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i t·∫≠p 1: Danh s√°ch s·∫£n ph·∫©m - 211A210020</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .search-section {
            margin-bottom: 30px;
            text-align: center;
        }

        .search-box {
            display: flex;
            gap: 10px;
            max-width: 600px;
            margin: 20px auto;
        }

        .search-box input {
            flex: 1;
        }

        .search-box button {
            padding: 12px 30px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f0f0f0;
        }

        .product-info {
            padding: 20px;
        }

        .product-name {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .product-category {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 1.4em;
            color: #e74c3c;
            font-weight: bold;
            margin-top: 10px;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .no-results h3 {
            font-size: 2em;
            margin-bottom: 15px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            color: #667eea;
            font-weight: bold;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        .explanation {
            background: #e8f4f8;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 30px 0;
            border-radius: 5px;
        }

        .explanation h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .explanation ul {
            margin-left: 20px;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üõí B√†i t·∫≠p 1: Danh s√°ch s·∫£n ph·∫©m</h1>
            <p>T√¨m ki·∫øm v√† hi·ªÉn th·ªã s·∫£n ph·∫©m v·ªõi JavaScript</p>
        </header>

        <nav>
            <ul>
                <li><a href="index.html">üè† Trang ch·ªß</a></li>
                <li><a href="baitap01.html">üì¶ B√†i 1: S·∫£n ph·∫©m</a></li>
                <li><a href="baitap02.html">üìù B√†i 2: Form ƒëƒÉng k√Ω</a></li>
                <li><a href="baitap03.html">‚è±Ô∏è B√†i 3: Countdown</a></li>
                <li><a href="about.html">‚ÑπÔ∏è Gi·ªõi thi·ªáu</a></li>
                <li><a href="contact.html">üìß Li√™n h·ªá</a></li>
            </ul>
        </nav>

        <main>
            <div class="stats fade-in">
                <div class="stat-item">
                    <div class="stat-number" id="totalProducts">0</div>
                    <div class="stat-label">T·ªïng s·∫£n ph·∫©m</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="displayedProducts">0</div>
                    <div class="stat-label">ƒêang hi·ªÉn th·ªã</div>
                </div>
            </div>

            <div class="search-section">
                <h2>üîç T√¨m ki·∫øm s·∫£n ph·∫©m</h2>
                <div class="search-box">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m c·∫ßn t√¨m..." 
                        autocomplete="off"
                    >
                    <button id="searchBtn">T√¨m ki·∫øm</button>
                    <button id="resetBtn" style="background: #95a5a6;">Reset</button>
                </div>
            </div>

            <div id="productsContainer" class="products-grid"></div>

            <div class="explanation">
                <h3>üí° Logic t∆∞ duy l·∫≠p tr√¨nh</h3>
                <h4>1. X·ª≠ l√Ω Input ng∆∞·ªùi d√πng:</h4>
                <ul>
                    <li><strong>Sanitization:</strong> S·ª≠ d·ª•ng textContent ƒë·ªÉ tr√°nh XSS injection</li>
                    <li><strong>Case-insensitive search:</strong> Chuy·ªÉn c·∫£ input v√† t√™n s·∫£n ph·∫©m v·ªÅ toLowerCase()</li>
                    <li><strong>Trim whitespace:</strong> Lo·∫°i b·ªè kho·∫£ng tr·∫Øng th·ª´a v·ªõi trim()</li>
                </ul>

                <h4>2. T·ªëi ∆∞u t√¨m ki·∫øm:</h4>
                <ul>
                    <li><strong>Array.filter():</strong> S·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c filter hi·ªáu qu·∫£ h∆°n v√≤ng l·∫∑p for</li>
                    <li><strong>includes():</strong> T√¨m ki·∫øm substring thay v√¨ so s√°nh ch√≠nh x√°c</li>
                    <li><strong>Real-time search:</strong> Th√™m event listener cho input ƒë·ªÉ t√¨m ki·∫øm ngay khi g√µ</li>
                </ul>

                <h4>3. X·ª≠ l√Ω l·ªói v√† UX:</h4>
                <ul>
                    <li>Hi·ªÉn th·ªã th√¥ng b√°o r√µ r√†ng khi kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£</li>
                    <li>C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m hi·ªÉn th·ªã real-time</li>
                    <li>Responsive grid layout t·ª± ƒë·ªông ƒëi·ªÅu ch·ªânh theo m√†n h√¨nh</li>
                </ul>
            </div>
        </main>

        <footer>
            <p>&copy; 2026 - B√†i t·∫≠p 1: Danh s√°ch s·∫£n ph·∫©m | 211A210020 - Phan Th·ªã Y·∫øn Nhi</p>
        </footer>
    </div>

    <script src="js/script.js"></script>
    <script>
        // ===== DANH S√ÅCH S·∫¢N PH·∫®M =====
        const products = [
            { 
                id: 1, 
                name: 'Laptop Dell XPS 13', 
                price: 25000000, 
                category: 'Laptop', 
                image: 'images/Laptop Dell XPS 13.jpg'
            },
            { 
                id: 2, 
                name: 'iPhone 15 Pro Max', 
                price: 30000000, 
                category: 'ƒêi·ªán tho·∫°i', 
                image: 'images/iPhone 15 Pro Max.jpg'
            },
            { 
                id: 3, 
                name: 'Samsung Galaxy S24 Ultra', 
                price: 28000000, 
                category: 'ƒêi·ªán tho·∫°i', 
                image: 'images/Samsung Galaxy S24 Ultra.jpg'
            },
            { 
                id: 4, 
                name: 'MacBook Pro M3 16 inch', 
                price: 55000000, 
                category: 'Laptop', 
                image: 'images/MacBook Pro M3 16 inch.jpg'
            },
            { 
                id: 5, 
                name: 'iPad Air M2 2024', 
                price: 18000000, 
                category: 'M√°y t√≠nh b·∫£ng', 
                image: 'images/iPad Air M2 2024.jpg'
            },
            { 
                id: 6, 
                name: 'AirPods Pro Gen 2', 
                price: 6500000, 
                category: 'Ph·ª• ki·ªán', 
                image: 'images/AirPods Pro Gen 2.jpg'
            },
            { 
                id: 7, 
                name: 'Sony WH-1000XM5 Wireless', 
                price: 9000000, 
                category: 'Ph·ª• ki·ªán', 
                image: 'images/Sony WH-1000XM5 Wireless.jpg'
            }
        ];

        // ===== FORMAT GI√Å TI·ªÄN =====
        function formatPrice(price) {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(price);
        }

        // ===== HI·ªÇN TH·ªä S·∫¢N PH·∫®M =====
        function displayProducts(productsToDisplay) {
            const container = document.getElementById('productsContainer');
            const displayedCount = document.getElementById('displayedProducts');

            if (productsToDisplay.length === 0) {
                container.innerHTML = `
                    <div class="no-results fade-in">
                        <h3>üò¢ Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m</h3>
                        <p>Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o ph√π h·ª£p v·ªõi t·ª´ kh√≥a t√¨m ki·∫øm c·ªßa b·∫°n.</p>
                        <p>Vui l√≤ng th·ª≠ t·ª´ kh√≥a kh√°c ho·∫∑c reset ƒë·ªÉ xem t·∫•t c·∫£ s·∫£n ph·∫©m.</p>
                    </div>
                `;
                displayedCount.textContent = '0';
                return;
            }

            container.innerHTML = productsToDisplay.map(product => `
                <div class="product-card fade-in">
                    <img src="${product.image}" alt="${sanitizeInput(product.name)}" class="product-image">
                    <div class="product-info">
                        <span class="product-category">${sanitizeInput(product.category)}</span>
                        <div class="product-name">${sanitizeInput(product.name)}</div>
                        <div class="product-price">${formatPrice(product.price)}</div>
                    </div>
                </div>
            `).join('');

            displayedCount.textContent = productsToDisplay.length;
        }

        // ===== T√åM KI·∫æM S·∫¢N PH·∫®M =====
        function searchProducts() {
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value.trim().toLowerCase();

            // Sanitize input ƒë·ªÉ tr√°nh XSS
            if (searchTerm === '') {
                displayProducts(products);
                return;
            }

            // Filter s·∫£n ph·∫©m (kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng)
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) ||
                product.category.toLowerCase().includes(searchTerm)
            );

            displayProducts(filteredProducts);

            // Hi·ªÉn th·ªã th√¥ng b√°o
            if (filteredProducts.length > 0) {
                showMessage(`T√¨m th·∫•y ${filteredProducts.length} s·∫£n ph·∫©m ph√π h·ª£p!`, 'success');
            } else {
                showMessage('Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m n√†o!', 'error');
            }
        }

        // ===== RESET T√åM KI·∫æM =====
        function resetSearch() {
            document.getElementById('searchInput').value = '';
            displayProducts(products);
            showMessage('ƒê√£ reset danh s√°ch s·∫£n ph·∫©m!', 'info');
        }

        // ===== KH·ªûI T·∫†O =====
        document.addEventListener('DOMContentLoaded', () => {
            // Hi·ªÉn th·ªã t·∫•t c·∫£ s·∫£n ph·∫©m ban ƒë·∫ßu
            displayProducts(products);
            document.getElementById('totalProducts').textContent = products.length;

            // Event listeners
            document.getElementById('searchBtn').addEventListener('click', searchProducts);
            document.getElementById('resetBtn').addEventListener('click', resetSearch);

            // T√¨m ki·∫øm real-time khi g√µ
            document.getElementById('searchInput').addEventListener('input', searchProducts);

            // T√¨m ki·∫øm khi nh·∫•n Enter
            document.getElementById('searchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchProducts();
                }
            });
        });
    </script>
</body>
</html>
